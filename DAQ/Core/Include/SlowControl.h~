#ifndef PHOTONCALIBRATION_H
#define PHOTONCALIBRATION_H

#include <sstream>
#include <iostream>
#include <stdlib.h>
#include <stdio.h> 
#include <string.h>
#include <fstream> 
#include "Reader.h"


/*Author: Julien Wulf UZH
  	Data Processor for calibration of  every kind of Photondetectors. 
	
*/

using namespace std;
class PhotonCalibration: public Reader, public Common
{
  public:                            
	MPPCCalibration();   
        void WriteStateFile();  
	void ComputeAreaOfPulse();
	void ComputeSpectrum();
	void PlotRandomTrace();
	void CreateROOTFile();
  private:
        void ComputeAreaOfPulse();	
	int ht, lt; // High treshhold and low treshhold
	int length, height; //
	fstream data;
	string Message;
	std::vector< vector<std::string> > readout;
	string command;
};

#endif
