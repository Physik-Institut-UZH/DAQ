<?xml version="1.0" encoding="ISO-8859-1"?>
<settings author="Last additions by Julien Wulf" date="03/03/2016">
  <!-- global Settings for the measurement--> 
  <global>
    <source>Stefan_and_Neil</source>       			 						<!-- What is measured? -->
    <notes>NaIDetectorCalibration</notes>                  	    					 	<!-- Comments -->
    <user>StefanandNeil</user>                                     					 	<!-- Last user which used the ADC-->
    <path>/home/daq/DAQ/CDAQ/bin/temp/</path>      							 <!-- Path -->
    <daq_version>4.0.0</daq_version>                        						 	 <!-- DAQ Version-->
    <nb_evts>10000000</nb_evts>                             							 <!-- Number of events-->
    <nb_evts_per_file>1000000</nb_evts_per_file>           							 <!-- Number of events/file-->
    <store_data>1</store_data>                             							 <!-- Store Data: 0: No, 1:ROOT, 2:.txt, 3: binary-->
    <displaytime>1</displaytime>                        							 <!-- Status output -->
  </global>

  <!--*************************************************************************************************** -->
  <!-- ADC CAEN v1730 specific settings -->
  <adc>	
    <!-- global ADC settings -->
    <global>
      <ADCType>3</ADCType>											 <!-- Which ADC 0: 1720 1: 1724 2:1730D 3:1730-16 channel -->
      <nb_modules>1</nb_modules>
      <nb_chs>16</nb_chs>  <!-- **Total number of channels -->
      <eventsTransferred>1</eventsTransferred> <!-- **Total number of events transferred per buffer read, more efficient at larger events. Currently code only works with 1 event per transfer...still testing N.M. 22/09/2020 -->
      <connectionType>1</connectionType>  <!-- CAEN_DGTZ_USB = 0, CAEN_DGTZ_OpticalLink = 1 -->
      <address_0>CCCC0000</address_0>				  						 <!-- Adress of the module-->
      <link_in_chain>0</link_in_chain>            		 <!-- Position of the board in the link, -1 if reading board through VME controller, 0 - N if using optical link / PCI -->
	
      <!-- Activate channels to read out -->
      	<ch_0>50</ch_0>             						 <!-- 0 = off, Number = treshold for trigger setting -->
      	<ch_1>0</ch_1>
        <ch_2>0</ch_2>                            
      	<ch_3>0</ch_3>                           
      	<ch_4>0</ch_4>                          
      	<ch_5>0</ch_5>                         
      	<ch_6>0</ch_6>                        
        <ch_7>0</ch_7>
        <ch_8>0</ch_8>
        <ch_9>0</ch_9>
        <ch_10>0</ch_10>
        <ch_11>0</ch_11>
        <ch_12>0</ch_12>
        <ch_13>0</ch_13>
        <ch_14>0</ch_14>
        <ch_15>0</ch_15>

        <polarity_0>-1</polarity_0>  <!-- Polarity of Channel N, +1 or -1 -->
        <polarity_1>1</polarity_1>
        <polarity_2>1</polarity_2>
        <polarity_3>1</polarity_3>
        <polarity_4>1</polarity_4>
        <polarity_5>1</polarity_5>
        <polarity_6>1</polarity_6>
        <polarity_7>1</polarity_7>
        <polarity_8>1</polarity_8>
        <polarity_9>1</polarity_9>
        <polarity_10>1</polarity_10>
        <polarity_11>1</polarity_11>
        <polarity_12>1</polarity_12>
        <polarity_13>1</polarity_13>
        <polarity_14>1</polarity_14>
        <polarity_15>1</polarity_15>

      <!-- !!!All Events are reduced by 10 Samples due to DAC Problems in the last samples!!!! -->
      <memoryorganisation>64</memoryorganisation>  								 <!-- **Blockorganisation of the ADC-->
      <custom_size>3000</custom_size>      										 <!-- **Custom event size in samples (must be < nb_samples_per_event) -->
      <posttrigger>50</posttrigger> 											 <!-- 0 - 100, size is expressed in percentage of the record length. 0 is end of waveform, 100, is begining of waveform -->
      <sampling_freq>500000000</sampling_freq>								     <!-- **sampling frequency -->
      <voltage_range>2</voltage_range>										 <!-- **voltage range of ADC/DAC, does not work -->
      <sample_size_ADC>14</sample_size_ADC>						 				 <!-- **sampling width in bits (ADC) -->
      <sample_size_DAC>16</sample_size_DAC>										 <!-- **sampling width in bits (DAC) -->
      <baseline>5</baseline>  												 <!-- **position of baseline 0 to 100 -->	
      <baselineiteration>40</baselineiteration>									 <!-- **How many iterations for baseline calculation -->
    </global>
    
    <!--Trigger Settings -->
	<triggerSettings>
	
		<trigger>2</trigger>								<!-- **0:ext trig, 1:Software trig, 2: Channel trig, 3: Coincidence trig -->
	  
		<!-- Option external trig and trg-out-->
		<TTL>1</TTL>									<!-- **TTL On (1) or NIM On (0) -->
   
		<!-- Option Software Trig-->
		<SoftwareRate>10</SoftwareRate>						<!-- **Rate of the Software Trigger in Hz -->
    
		<!-- Option Channel Trig v1730D-->	
												<!-- (coupled channels for board trigger: two adjacent channels) logic0: ch0 and ch1 etc-->
		<logic0>1</logic0>								<!-- How to proceed if channel is above treshold: 0: Or : 1: only CH(n) 2:only CH(n+1) 3: And  -1:Deactivated-->
		<logic1>-1</logic1>
		<logic2>-1</logic2>  
		<logic3>-1</logic3>
    	
		<!-- Option Channel Trig v1724/v1720-->
		<trig0>1</trig0>								<!-- Which Channel generates a board trigger 0: Deactivated 1:Activated-->
		<trig1>0</trig1>
		<trig2>0</trig2>
		<trig3>0</trig3>
		<trig4>0</trig4>
		<trig5>0</trig5>
		<trig6>0</trig6>
    <trig7>0</trig7>
    <trig8>0</trig8>								<!-- Which Channel generates a board trigger 0: Deactivated 1:Activated-->
		<trig9>0</trig9>
		<trig10>0</trig10>
		<trig11>0</trig11>
		<trig12>0</trig12>
		<trig13>0</trig13>
		<trig14>0</trig14>
		<trig15>0</trig15>
		
        <!-- Option Coinciddence Trigger -->
      	<coincidencelength>0</coincidencelength>					<!-- window for a coincidence event units: 125MHz Clock-->
		<numberChannels>1</numberChannels>						<!-- how many channels should be over the programmed treshold -->
	    
   </triggerSettings>
 </adc>  
 
   <!-- Settings for graphical display "Oscilloscope mode" -->
 <graphics>
   <ydisplay>2</ydisplay>									<!-- ** 0:standard, 1:manual, 2:auto -->
   <yaxis_low>980</yaxis_low>								<!-- ** lower border of y-axis display -->
   <yaxis_high>5020</yaxis_high>							<!-- ** upper border -->           
   <useMCA>1</useMCA>         <!-- Use MCA plotting to show intergral of every waveform-->
 </graphics>
</settings>
